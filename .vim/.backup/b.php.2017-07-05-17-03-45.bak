<?php
function func_check($param){
    $str = '';
    if(is_null($param) || is_bool($param)){
		$str .= '';
	}elseif(is_string($param) || is_numeric($param)){
		$str .= preg_replace('/[^0-9a-z]/i', '', $param, -1);
	}else{
		ksort($param, SORT_STRING);
		foreach($param as $key => $value){
			$str .= ($key . '=' .func_check($value));
		}
	}
}


$str = func_check(array(
    'mid' => 1,
    'method' => 'Test.Hello',
    'param' => array(
        'username' => 'abc' 
    )
));

echo $str;
