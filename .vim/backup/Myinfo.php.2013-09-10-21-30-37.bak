<?php
namespace St\View\Helper;

use Zend\View\Helper\AbstractHelper,
    Zend\ServiceManager\ServiceLocatorAwareInterface,
    Zend\ServiceManager\ServiceLocatorInterface,
    Zend\View\Exception;
use St\Api;


class Myinfo extends AbstractHelper
{
	private $myInfo = array();
	
	public function __construct(){
		$this->myInfo = api::_()->getMyInfo();
	}
	
	public function __invoke($test)
	{
		$data = array('title' => '', 'name' => '');
		if($this->myInfo){
			if($this->myInfo['isSuperAdmin'] == 1){
				$data['title'] = '超級管理員';
                $data['isSuperAdmin'] = 1;
			}else{
				$data['title'] = '管理員';
                $data['isroot'] = 0;
			}
		}
		$data['name'] = $this->myInfo['userName'];
		return $data;
	}	
}
